<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.88.1">
    <title>Heroes · Bootstrap v5.1</title>

    <link rel="canonical" href="https://getbootstrap.com/docs/5.1/examples/heroes/">

    

    <!-- Bootstrap core CSS -->
    <link href="../assets/dist/css/bootstrap.min.css" rel="stylesheet">

   
   
  </head>
  <body>
    
<main>
   <h1 class="visually-hidden"> UBUNTU</h1>
   <pre>
   lsb_release -a
   este comando vai retornar
   Distribuidor :
   descrição :
   release:
   codename:
   
   
   
   </pre>
	

	        <h1 class="visually-hidden"> Reiniciar Servidor</h1>
		
		Caso na hora de reiniciar a porta estiver ocupada por outro processo

		netstat -a -n -o | findstr 5848  onde 5848 é a porta onde o servidor está escutando.

		Taskkill /PID XXXX  /F                onde XXXX é o valor do PID que você irá encontrar através  do comando netstat.

		
	
	
	
	
	
	
	
  <h1 class="visually-hidden"> help Django e Python</h1>

  <div class="px-4 py-5 my-5 text-center">
    
    
    <div class="col-lg-6 mx-auto">

      
       
             
      </div>
    </div>
  </div>
  

  <div class="b-example-divider"></div>
       


  <div class="px-4 py-5 my-5 text-center">
    
   
    <div class="col-lg-6 mx-auto">

      
    
        <table class="table">
  
      
        </p>
        
      </div>
    </div>
  </div>


  <div class="b-example-divider"></div>



<br>
   <pre>
   GITHUB  ===  INSTALANDO WINDOWS
  
      C:\>winget install git
      Multiple packages found matching input criteria. Please refine the input.
      Name   Id           Source
      ---------------------------
      My Git 9NLVK2SL2SSP msstore
      Git    Git.Git      winget
      
      C:\>winget install git.git
      Found Git [Git.Git] Version 2.34.1
      This application is licensed to you by its owner.
      Microsoft is not responsible for, nor does it grant any licenses to, third-party packages.
      Downloading https://github.com/git-for-windows/git/releases/download/v2.34.1.windows.1/Git-2.34.1-64-bit.exe
      ██████████████████████████████  48.0 MB / 48.0 MB
      Successfully verified installer hash
      Starting package install...
      Successfully installed
      
       Directory of C:\Program Files\Git\bin

      12/07/2021  08:09 AM    <DIR>          .
      12/07/2021  08:09 AM    <DIR>          ..
      11/25/2021  10:48 AM            46,096 bash.exe
      11/25/2021  10:48 AM            45,584 git.exe
      11/25/2021  10:48 AM            46,096 sh.exe
               3 File(s)        137,776 bytes
               2 Dir(s)  57,712,345,088 bytes free
      ****Para fazer o programa fucionar sem colocar no path deve proceder ao diretório de instalação

    
 
      EXEMPLO DA CRIAÇÃO DO AMBIENTE COM MYSQL E WORKBENCH
 
      ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY '214236';
  
 
      ENTRANDO COMO SUPERUSUARIO
      sudo mysql -uroot -p
 
      VERIFICANDO O STATUS DO SERVIDOR MYSQL
      service mysql status
 
      INSTALANDO O PACOTE QUE FOI DESCOMPACTADO DO WORKBENCH
      sudo apt-get -f install
  
      PACOTE BAIXADO DO WORKBENCH A SER INSTALANDOsudo 
      dpkg -i mysql-workbench-community.deb
  
      LINK PARA BAIXAR O WORKBENCH
      wget http://cdn.mysql.com/Downloads/MySQLGUITools/mysql-workbench-community_8.0.25-1ubuntu20.04_amd64.deb -O mysql-workbench-community.deb
  
      COMANDO PARA VERIFICAR A VERSÃO DO UBUNTU
      lsb_release -rs
  
      CRIANDO PROJETOS  DJANGO
      django-admin startproject nome_do_projeto
      RENOMEIO O DIRETÓRIO DE PROJETOS
 
 
  
      'CRIANDO UM APP 
      manage.py startapp main
   
      CONFIGURANDO  o settings.py  
  
      LANGUAGE_CODE = 'pt-br'
  
      TIME_ZONE = 'America/Sao Paulo'
  
 
      INSTALLED_APPS = [
  
      ‘django.contrib.admin’,
  
      ‘django.contrib.auth’,
 
      ‘django.contrib.contenttypes’,
  
      ‘django.contrib.sessions’,
  
      ‘django.contrib.messages’,
  
      ‘django.contrib.staticfiles’,
  
      ‘main.apps.MainConfig’,
  
      ]
 
      STATICFILES_DIRS = (
        os.path.join(BASE_DIR, ‘static’),
        )
        STATIC_ROOT = os.path.join(BASE_DIR, ‘staticfiles’)
   
   
        MEDIA_ROOT = os.path.join(BASE_DIR, ‘upload’)
        MEDIA_URL = ‘/upload/’
   
    
    
        DATABASES = {
      
          ‘default’: {
            ‘ENGINE’: ‘django.db.backends.mysql’,
            ‘NAME’: os.path.join(BASE_DIR, ‘db.mysql),
            'USER': 'DB_USER',
            'PASSWORD': '214236',
            'Host': 'localhost',   
            'PORT': '3306',
       
               }
        
     }
  
  
      INSTALANDO O CONNECTOR PYTHON PARA MYSQL
      pip install mysql-connector-python
  
      SE FOR PRECISO ATUALIZAR VERSÃO DO DJANGO
      pip install django==3.0.7
  
      erro=>
      query = query.decode(errors='replace')
      AttributeError: 'str' object has no attribute 'decode'
  
      ATUALIZANDO TUDO
      ./manage.py migrate
    
      INICIANDO O SERVIDOR
      ./manage.py runserver
  
       erro=
      Your models have changes that are not yet reflected in a migration, and so won't be applied.
      Run 'manage.py makemigrations' to make new migrations, and then re-run 'manage.py migrate' to apply them.
  
      PARA EXIBIR OS REGISTROS

      ./manage.py shell
      Python 3.8.10 (default, Sep 28 2021, 16:10:42) 
      [GCC 9.3.0] on linux
      Type "help", "copyright", "credits" or "license" for more information.
      (InteractiveConsole)
      >>> from main.models import Produto
      >>> Produto.objects.all()


      PARA A MENSAGEM DE ERRO QUANDO PYTHON ESTIVER INSTALADO
  
    
      /usr/bin/env: “python”: Arquivo ou diretório inexistente
      whereis python3
      sudo ln -s /usr/bin/python3 /usr/bin/python
  
  
      ERRO:
      raise ImproperlyConfigured( django.core.exceptions.ImproperlyConfigured: E
      Error loading MySQLdb module. Did you install mysqlclient?
  
      __init__.py
  
      import pymysql
  
      pymysql.install_as_MySQLdb()


      </div>
      </div>
      </div>
   
  
            INICIANDO O AMBIENTE CARREGANDO O PYTHON DJANGO, E VM
  
       (1) Instalar o python no site da python
           python.org
           instalar versão superior ao python 3
           
           Após instalar,  verificar a instalação
           python --version
           pip --version
    
       (2) Instalando a máquina virtual
           pip install virtualenv
    
       (3) mkdir "criar um diretório para o projeto"
           cd "mover para dentro"
           virtualenv "nome da mv"
    
       (4) source "nome da vm"
           source "nome da vem"/
       
       (5) dentro de script
           activate
    
       (6) Instalando o django
           pip install django
           django-admin --version
    
       (7) criar um projeto
           django-admin startproject "nome"

        Observação importânte.  Para não confundir os diretórios
     
        criando máquina virtual
        python3 -m venv /path/"nome vm"

        criar máquina virtual
        sair do diretório de ativação da máquina
        e voltar para o diretório de projeto


        criar projeto
        entrar no projeto e depois chamar 
        o visual studio
          
          


EEEE RRRR  RRRR  OOOO
EE   RR R  RR R  O  O
EEE  RRR   RRR   O  O
EE   RR R  RR R  O  O
EEEE RR  R RR  R OOOO


Page not found (404)
Request Method:
GET 
Request URL:
http://127.0.0.1:8000/ 
Using the URLconf defined in todo.urls,Django tried these URL patterns, in this order: 
1.admin/ 
2.helloworld/ 
The empty pathdidn’t match any of these.
You’re seeing this error because you have DEBUG = True inyour Django settings file. Change that to False, and Djangowill display a standard 404 page.




          CICLO BÁSICO DE CRIAÇÃO DE APP
          
       Projetos e  APP

        (1) Criação do projeto "todo"
            mkdir projeto todo
            cd projeto todo/

        (2) Criar uma VM
            virtualenv venvtodo
            dir venvtodo
            source venvtodo/script/activate

        (3) Intalar o django dentro da VM
            pip install django
            django --version

        (4) Iniciando  o projeto
            django-admin startproject todo
            code.
            para ver o projeto dentro do VisualStudio

        (5) VisualStudio -> Terminal -> New Terminal
            para executar o terminal dentro do VisualStudio

        (6) Criando Apps
            django-admin startapp task
            django-admin startapp about
            django-admin startapp user

        (7) Dentro do arquivo seitings.py em INSTALLED_APPS inserir
            task,
            about,
            user,

        (8) Copiar a strutura de urls, do projeto tirar o import
            e inserir em cada uma das apps. 
            tirar a linha de import admin

        (9) Importar arquivo de views 
            from - import views


        (10) Criar url com função path
            path('helloworld/', views.helloworld),   

        (11) Criar a helloworld no arquivo de views dentro
             da aplicação tasks

             def helloworld(request):
                return httpResponse('Hello World')
        (12) ainda dentro deste arquivo importar o httpResponse
             from django.http import httpResponse,

        (13) No arquivo de url do projeto
             na linha from django.urls import path,
             complete com  include

        (14) Para que todas as urls do projeto peguem do raiz a url task
             insira a linha
             path('',include('tasks.urls'))
              
          
             Ciclo completo dentro de task

        (1)  Na url dentro de task
             inserir uma nova url
             path('',view.tasklist, name='task-list')

        (2)  View dentro da task
             def tasklist(request):
                 return render('request,task/list.html')

        (3)  Dentro do task ->  criar uma pasta template
             dentro da pasta template
             criar uma nova pasta task
             e dentro da pasta task, criar então o html basico
             list.html.



              Passando argumentos pela URL

         (1) Dentro da url dentro de task
             path('yourname/<str:name>', views.yourName, name='your-name'),

         (2) Dentro da view
             def yourName(request, name):
             return render(request,'tasks/yourname.html',('name': name)) 

         (3) Criando template
             dentro do task template
             h1 O seu nome é: {{ name }} /h1 
          
          
EXTENSÃO DE TEMPLATES

REATURES

Criar um template base
    base.html (dentro do template geral)


{% load static %}

[!DOCTYPE html]
[html lang="en"]
[head]
    [meta charset="UTF-8"]
    [meta name="viewport" content="width=device-width, initial-scale=1.0"]
    [meta http-equiv="X-UA-Compatible" content="ie=edge"]
    [title>{% block title %}{% endblock %}</title]
    [link rel="stylesheet" href="{% static 'css/styles.css' %}"]
[/head]
[body]
    [div class="row"]
        {% block content %}
        {% endblock %}
    [/div]
[/body]{% load static %}
[/html]



Criar um post_list.html, dentro do APP
{% extends 'blog/base.html' %}
{% block title %}Listagem de Posts{% endblock %}

{% block content %}
    [h1]Esta é a listagem de posts[/h1]
    [p]Aqui teremos alguns posts para mostrar.[/p]
{% endblock %}

Criar um contact.html, dentro do APP
{% extends 'blog/base.html' %}
{% block title %}Título do post{% endblock %}

{% block content %}
    [h1]Quer entrar em contato conosco?[/h1]
{% endblock %} 
	
		
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
          
          <h1 class="visually-hidden"> help Rubi and Rails</h1>
          
  RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS RAILS 
  
  
  Configurar Ambiente Rails NO WINDOWS

1. Instalar WSL se estiver usando Windows.
Se estiver usando Windows, seguir os passos aqui para instalar o WSL e instale o Ubuntu no WSL. Se estiver usando Ubuntu, siga para o próximo passo.

      A partir de agora, todos os comandos devem ser executados no terminal do Ubuntu ou WSL.
2. Na barra de status (no Ubuntu), clicar em Editar > Preferências do Perfil. Selecionar a aba Comando e checar a opção "Executar Comando como Shell de Sessão". 
3. Fechar o Terminal e abrir novamente.
OBS: A partir de agora todos os comandos serão escritos na linha abaixo do número do passo e serão precedidos por "->". Não digitar/copiar o "->".
4. Executar o comando
-> gpg --keyserver hkp://pool.sks-keyservers.net --recv-keys 409B6B1796C275462A1703113804BB82D39DC0E3 7D2BAF1CF37B13E2069D6956105BD0E739499BDB
5. Executar o comando
 	->sudo apt-get update
---- OBS: Ao executar comando com sudo, deve ser solicitada a senha de sudo, digitar a senha criada ao instalar o Linux

6. Executar o comando
	-> sudo apt-get install curl
7. Executar o comando
-> \curl -L https://get.rvm.io | bash -s stable
8. Fechar o Terminal e abrir novamente
9. Executar o comando
	-> source ~/.rvm/scripts/rvm
10. Executar o comando
	-> rvm requirements
11. Executar o comando
	-> rvm install ruby
12. Executar o comando
	-> rvm use ruby --default
13. Executar o comando
	-> rvm rubygems current
14. Executar o comando
	-> gem install rails
15. Executar o comando
	-> mkdir rails_workspace
OBS: Este comando cria um novo diretório com qualquer nome, onde serão salvos os aplicativos Rails
16. Executar o comando
	-> cd rails_workspace
17. Executar comando
        -> sudo apt-get install git-core
Obs: Provavelmente esse passo não será necessário ao instalar o rails 6, mas rode mesmo assim
18. Agora dentro da pasta rails_workspace execute o comando
	-> rails new teste
19. Executar o comando
	-> cd teste
20. Executar o comando 
	-> rails server
OBS: Se ocorrer um erro: "Webpacker configuration file not found /home/luciano/rails_workspace/teste/config/webpacker.yml." Execute o comando -> rails webpacker:install
Talvez precise de uma versão mais nova do Node JS, basta acessar esse link https://www.ubuntuupdates.org/package/nodejs_8.x/xenial/main/base/nodejs e baixar o 32bit deb package ou 64 dependendo do seu sistema e dar dois cliques para abrir, a instalação será automatica
Também deve precisar instalar o Yarm: https://classic.yarnpkg.com/en/docs/install/#debian-stable só seguir as instruções
Agora finalmente volte ao passo 20.
OBS: O passo 20 terá funcionado se o terminal não voltar ao prompt de comando. Ele deve ficar parado numa mensagem parecida com:
=> Booting Puma
=> Rails 6.0.2.2 application starting in development 
=> Run `rails server --help` for more startup options
=> Ctrl-C to shutdown server
[2016-04-01 09:50:54] INFO  WEBrick 1.3.1
[2016-04-01 09:50:54] INFO  ruby 2.3.0 (2015-12-25) [x86_64-linux]
[2016-04-01 09:50:54] INFO  WEBrick::HTTPServer#start: pid=6429 port=3000
21. Abrir o navegado e acessar a URL: localhost:3000. Se uma página escrita "Yay! You’re on Rails!" com o logo do Rails aparecer. Tudo está corretamente instalado
22. Volte ao terminal e se o servidor ainda estiver rodando, pressionar Ctrl + C para parar. então o terminal deve voltar ao Prompt de comando.
23. Executar o comando
	-> sudo apt-get install postgresql postgresql-contrib
24. Executar o comando
	-> sudo -i -u postgres
25. Executar o comando
	-> psql
26. Executar o comando (Substituir <SEU_ROLE> e <SEU_PASSWORD> por qualquer valor que prefira.
	-> CREATE ROLE <SEU_ROLE> WITH createdb login PASSWORD '<SEU_PASSWORD>';
       OBS: Note o ;(ponto e vírugla) no fim do comando.
      Exemplo: CREATE ROLE luciano WITH createdb login PASSWORD 'luciano';
27. Executar o comando
	-> \q
28. Executar o comando
	-> gem install pg
OBS.: Se ocorrer algum erro no momento da instalação da GEM pg execute o passo 29. (Provavelmente Ubuntu precisará)
29. Executar o comando
	-> sudo apt-get install libpq-dev



Configurar Git
1. Executar comando
	-> ssh -V
2. Executar comando
	-> ls -a ~/.ssh
3. Executar comando
4. 	-> ssh-keygen
5. ---- OBS.: Aqui você vai digitar o nome do arquivo para ser salvo, se quiser usar o padrão, basta apertar enter. 
Depois vai pedir a senha, aconselho criar uma e de preferência não esquecer. 
Depois vai aparecer algo parecido com isso significando que está ok:
+---[RSA 2048]----+
|  .       .      |
| . . .   . +     |
|. + oE.   *      |
| . * ... . = .   |
|  . +o. S.o B . .|
|   o.....+.B = ..|
|    ..o.o *.+ o .|
|      o= o.o ....|
|    .o..+o.   .o |
+----[SHA256]-----+
6. Executar comando
-> ls -a ~/.ssh
7. Executar comando
	-> ps -e | grep [s]sh-agent
8. Executar comando
	-> ssh-agent /bin/bash
9. Executar comando
	-> ps -e | grep [s]sh-agent
10. Executar comando
	-> ssh-add ~/.ssh/id_rsa
OBS.: Aqui vai pedir a senha do seu id rsa, é a senha que vc criou no passo 5
11. Executar comando
	-> ssh-add -l
12. Executar comando
	-> cat ~/.ssh/id_rsa.pub
OBS.: O comando acima "cat" vai printar sua key na tela, você precisará dela para o próximo passo
13. Copiar todo o hash printado no comando anterior e adicionar no Github para isso:
Logar no Bitbucket: https://github.com/
Clicar na sua foto do perfil e selecionar "Settings"
Clicar em "SSH and GPG Keys"
Clicar em "New SSH Key"
Dar um nome "Title" qualquer
Colar a key copiada no campo "Key"
Este é o endereço, caso já esteja logado no github(https://github.com/settings/ssh/new)
OBS: O Github é uma aplicação Rails 😉	



	
	
	
	

  *********************************************************************************************************************************
	                                             CÓDIGOS EXEMPLO PY
  *********************************************************************************************************************************
	
	
	
	
	
*******************pasta da sua aplicação*************

*******models.py***********




from django.db import models

class Categoria(models.Model):

nome = models.CharField(max_length=150, db_index=True)

slug = models.SlugField(max_length=150, unique=True, db_
index=True)

data_criacao = models.DateTimeField(auto_now_add=True)

data_ultima_atualizacao = models.DateTimeField(auto_
now=True)

def __str__(self):

return self.nome

class Produto(models.Model):

nome = models.CharField(max_length=100, db_index=True)

slug = models.SlugField(max_length=100, db_index=True)

descricao = models.TextField(blank=True)

preco = models.DecimalField(max_digits=10, decimal_places=2)

disponivel = models.BooleanField(default=True)

estoque = models.PositiveIntegerField()

data_criacao = models.DateTimeField(auto_now_add=True)

data_ultima_atualizacao = models.DateTimeField(auto_
now=True)

imagem = models.ImageField(upload_to=’imagens-produtos’, blank=True)

def __str__(self):

return self.nome


















*************   index file  ************

PASTA TEMPLATE



{% load static %}

<!doctype html>

<html>

<head>

<!-- tags meta obrigatórias -->

<meta charset=”utf-8”>

<meta name=”viewport” content=”width=device-width, initial-scale=1, shrink-to-fit=no”>

<!-- folha de estilos do Bootstrap CSS -->

<link rel=”stylesheet” href=”{% static ‘css/bootstrap.min.css’ %}” >

<title>Testando o Bootstrap para criar um template </title>

</head>

<body>

<h1>Teste do Bootstrap</h1>

<!-- JavaScript opcional -->

<!-- jQuery, Popper.js e Bootstrap JS – bibliotecas JS -->

<script src=”{% static ‘js/jquery.min.js’ %}”></script>

<script src=”{% static ‘js/popper.min.js’ %}”></script>

<script src=”{% static ‘js/bootstrap.min.js’ %}”></script>

</body>

</html>






********************  URL  PY  *********************

from django.contrib import admin

from django.urls import path

from django.views.generic import TemplateView

urlpatterns = [

path(‘admin/’, admin.site.urls, name=’admin’),

path(‘’, TemplateView.as_view(template_name=’index.html’), name=’index’),

]




************** CRIAR DIRETÓRIOS ****************

mkdir prj_lojavirtual\static

mkdir prj_lojavirtual\static\css

mkdir prj_lojavirtual\static\img

mkdir prj_lojavirtual\static\js




************** base.html ****************

{% load static %}

<!doctype html>

<html>

<head>

<!-- tags meta obrigatórias -->

<meta charset=”utf-8”>

<meta name=”viewport” content=”width=device-width,
initial-scale=1, shrink-to-fit=no”>

<link rel=”stylesheet” href=”{% static ‘css/bootstrap.min.css’ %}” >

<title> Loja Virtual </title>

</head>

<body>

{% include ‘snippets/barra_navegacao.html’ %}

{% block conteudo %}

{% endblock conteudo %}

{% include ‘snippets/rodape.html’ %}

<script src=”{% static ‘js/jquery.min.js’ %}”></script>

<script src=”{% static ‘js/popper.min.js’ %}”></script>

<script src=”{% static ‘js/bootstrap.min.js’ %}”></script>

</body>

</html>




************** cabeçalhos e rodapés  ****************

/prj_lojavirtual/templates/snippets/



barra_de_navegacao

<nav class=”navbar navbar-expand-lg navbar-light bg-primary”>

<a class=”navbar-brand text-light” href=”/”>

Loja Virtual

</a>

<button class=”navbar-toggler”

type=”button”

data-toggle=”collapse”

data-target=”#navbarSupportedContent” >

<span class=”navbar-toggler-icon”></span>

</button>

<div class=”collapse navbar-collapse” id=”navbarSupportedContent”>

<ul class=”navbar-nav mr-auto”>

<li class=”nav-item”>

<a class=”nav-link text-light” href=”/”>

Página Principal

</a>

</li>

<li class=”nav-item”>

<a class=”nav-link text-light” href=”/ajuda/”>Ajuda</a>

</li>

</ul>

</div>

</nav>




*****************   AJUDA  ************************
{% extends “base.html” %}

{% block conteudo %}

<h2>Ajuda</h2>

<h3> Loja Virtual</h3>

<p>Sistema de loja virtual</p>

<p>Parte integrante do livro “Desenvolvimento web ágil com Python

e Django”.</p>

{% endblock conteudo %}



*****************  urls.py do projeto  ********************

from django.contrib import admin

from django.urls import path

from django.views.generic import TemplateView

from main import views

urlpatterns = [

path(‘admin/’, admin.site.urls, name=”admin”),

path(‘ajuda/’, TemplateView.as_view(template_name=’ajuda.html’), name=”ajuda”),

path(‘fale-conosco/’, views.ViewFaleConosco.as_view(),
name=”fale_conosco”),

path(‘’, TemplateView.as_view(template_name=’main.html’), name=”main”),

]




****************** prj_lojavirtual/main/forms.py. *********************

from django import forms

class FormFaleConosco(forms.Form):

nome = forms.CharField(required=True)

email_origem = forms.EmailField(required=True, label = ‘Entre com seu e-mail:’)

mensagem = forms.CharField(required=True)




******************  fale_conosco.html  ************************



{% extends “base.html” %}
{% block conteudo %}
<h2>Fale conosco</h2>
<p>Envie-nos uma mensagem, que teremos todo o prazer em
atendê-lo(a). </p>
<form method=”POST”>
{% csrf_token %}
{{ form.as_p }}
<button type=”submit” class=”btn btn-primary”>Enviar</button>
</form>
{% endblock conteudo %}






****************    views.py  ********************

from django.views.generic.edit import FormView

from main import forms

class ViewFaleConosco(FormView):

template_name = “fale_conosco.html”

form_class = forms.FormFaleConosco

success_url = “/”

def form_valid(self, form):

form.enviar_mensagem_por_email()

return super().form_valid(form)




***********************  form_valid()  *********************



from django.shortcuts import render
from django.http import HttpResponseRedirect
from .forms import FormFaleConosco
def contactar(request):
if request.method == ‘POST’:
# POST, instancia um objeto da classe ContactForm,
# populado com os dados recebidos do template
formulario = FormFaleConosco(request.POST)
# Validação dos dados:
if formulario.is_valid():
# Chamar métodos de negócio da aplicação aqui
# Redirecionar a resposta para outra URL:
return
HttpResponseRedirect(‘/resultado/contato/resposta’)
else:
# GET, retorna formulário vazio
form = FormFaleConosco()
return render(request,’sobre/contato.html’,
{‘formulario’:formulario})






************ /prj_lojavirtual/main/forms.py.  ******************


from django import forms
from django.core.mail import send_mail
from lojavirtual import settings
class FormFaleConosco(forms.Form):
nome = forms.CharField(required=True,
initial=’Seu nome aqui’)
email_origem = forms.EmailField(label =
‘Entre com seu e-mail’)
mensagem = forms.CharField(required=True,
widget=forms.Textarea)
def enviar_mensagem_por_email(self):
send_mail(‘FALE CONOSCO: Mensagem recebida.’,
self.data[‘mensagem’],
self.data[‘email_origem’],
[settings.EMAIL_FALE_CONOSCO],
fail_silently=False)
  
  
  
  
  
  
  
          
          
     </pre>    
         
         
</main>
    <script src="../assets/dist/js/bootstrap.bundle.min.js"></script>

      
  </body>
</html>
